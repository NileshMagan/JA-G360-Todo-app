<section class="todos">
  <h2>TODOs</h2>

  <form (ngSubmit)="add()" class="add-form">
    <mat-form-field appearance="outline" style="flex:1;">
      <mat-label>What needs to be done?</mat-label>
      <input matInput name="title" [ngModel]="newTitle()" (ngModelChange)="newTitle.set($event)" />
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit" [disabled]="!canAdd()">Add</button>
  </form>

  <div *ngIf="loading()">Loading...</div>
  <div *ngIf="error()" class="error">{{ error() }}</div>

  <mat-list class="list">
    <mat-list-item *ngFor="let item of items(); trackBy: trackById">
      <div matListItemTitle>{{ item.title }}</div>
      <button mat-button color="warn" class="delete" (click)="remove(item.id)">Delete</button>
    </mat-list-item>
  </mat-list>
</section>


